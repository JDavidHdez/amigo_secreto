<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Amigo Secreto Online</title>
    <link rel="stylesheet" href="src/estilos.css">
</head>
<body>
    <div class="container">
        <h1>ğŸ Amigo Secreto Online</h1>
        <p class="subtitle">Sorteo privado y seguro desde casa</p>
        
        <div class="mode-selector">
            <button class="mode-btn active" onclick="switchMode('organizer')">
                ğŸ‘¨â€ğŸ’¼ Organizar
            </button>
            <button class="mode-btn" onclick="switchMode('participant')">
                ğŸ… Ver mi resultado
            </button>
        </div>

        <!-- SECCIÃ“N ORGANIZADOR -->
        <div id="organizerSection" class="section active">
            <div class="info-box">
                ğŸ’¡ Como organizador, agregarÃ¡s participantes y generarÃ¡s cÃ³digos Ãºnicos para cada uno. Luego comparte cada cÃ³digo por privado (WhatsApp, email, etc.)
            </div>

            <div id="setupPhase">
                <div class="input-group">
                    <input type="text" id="nameInput" placeholder="Nombre del participante" />
                    <button class="btn-primary" onclick="addParticipant()">Agregar</button>
                </div>
                <div class="error" id="errorMsg"></div>
                
                <div class="participants-list" id="participantsList"></div>
                
                <div class="action-buttons">
                    <button class="btn-secondary" onclick="generateCodes()" id="generateBtn" style="display: none;">
                        ğŸ² Generar CÃ³digos
                    </button>
                </div>
            </div>

            <div id="codesPhase" style="display: none;">
                <div class="warning-box">
                    âš ï¸ <strong>Importante:</strong> Comparte cada cÃ³digo SOLO con su respectivo participante de forma privada. Guarda estos cÃ³digos en un lugar seguro.
                </div>
                <div id="codesList"></div>
                <div class="action-buttons">
                    <button class="btn-primary" onclick="resetOrganizer()">Nuevo Sorteo</button>
                </div>
            </div>
        </div>

        <!-- SECCIÃ“N PARTICIPANTE -->
        <div id="participantSection" class="section">
            <div class="info-box">
                ğŸ” Ingresa el cÃ³digo que te compartiÃ³ el organizador para ver a quiÃ©n le regalarÃ¡s
            </div>

            <div id="codeInputPhase">
                <div class="input-group">
                    <input type="text" id="codeInput" placeholder="Ingresa tu cÃ³digo" style="text-transform: uppercase;" />
                    <button class="btn-primary" onclick="revealWithCode()">Ver resultado</button>
                </div>
                <div class="error" id="codeError"></div>
            </div>

            <div id="resultPhase" style="display: none;">
                <div class="reveal-result">
                    <h2>ğŸ Tu amigo secreto es:</h2>
                    <div class="gift-name" id="giftName"></div>
                    <p style="color: #718096; margin-top: 20px;">
                        Â¡Prepara un regalo especial! ğŸ‰
                    </p>
                </div>
                <button class="btn-primary" onclick="resetParticipant()" style="width: 100%; margin-top: 20px;">
                    Ingresar otro cÃ³digo
                </button>
            </div>
        </div>
    </div>

    <script src="src/app.js"></script>
</body>
</html>